html{
  overflow-y:scroll;
  overflow-x:hidden;
}
html, body{
  position:relative;
  height:100%;
  width:100%;
  font-size:18px;
}

$page-x: 55;
$page-y: 85;
$aspect: ($page-x / $page-y);
$min-width: 321px;
$min-height: ($min-width / $aspect);
@mixin size-from-width($width){
  html, body{
    font-size: (4/100) * $width;
  }
  .page{
    height: ($width / $aspect);
    width: $width;
  }
}


#main{
  font-size:0;
  height:100%;
  margin:0 auto;
}
hr{
  display:none;
}
.page{
  display:block;
  margin: 2em auto;
  padding:1em;
  width:90%;
  height:100%;
  border:1px dotted transparent;
  border-bottom-color:#ddd;
  box-sizing:border-box;
  font-size:18px;
  font-size:1rem;
  line-height:1.6em;
  text-align:left;
  vertical-align:top;
  clear:both;
  overflow:visible;
  position:relative;

  .footer{
    box-sizing:border-box;
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    padding:0 1em;
    p{
      text-align:center;
      font-style:italic;
    }
    .aside{
      float:left;
    }
  }
  &:nth-of-type(even){
    .aside{
      float:right;
    }
  }
}
@media print{
  html, body{
    font-size:24px;
  }
  .page{
    display:inline-block;
    page-break-inside:avoid;
    margin:0;
    border:0;
    padding:0;
    width:50%;
    &:nth-of-type(odd){
      padding-right:.4in;
    }
    &:nth-of-type(even){
      padding-left:.4in;
    }
    .footer{
      padding:0;
    }
  }
}
@media screen{
  .page{
    display:inline-block;
    margin:0;
    background-color:#fff;
  }
  hr:nth-of-type(even){
    display:block;
  }

  @media (max-aspect-ratio: $page-x "/" $page-y){
    @include size-from-width(98vw);
  }
  @media (min-aspect-ratio: $page-x "/" $page-y){
    @include size-from-width(100vh * $aspect);
  }
  @media (min-aspect-ratio: $page-x "/" $page-y) and (max-height: $min-height){
    @include size-from-width(100vw);
  }
  @media (min-aspect-ratio: ($page-x * 2) "/" $page-y) and (max-height: $min-height){
    @include size-from-width($min-height * $aspect);
  }
}
